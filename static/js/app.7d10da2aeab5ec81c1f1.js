webpackJsonp([1],{IIvi:function(t,e){},MbZW:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[e("router-view")],1)],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App"},n,!1,function(t){i("TMjY")},null,null).exports,r=i("/ocq"),c=i("Dd8w"),o=i.n(c),l=i("9rMa"),d={name:"HomeHeader",computed:o()({},Object(l.c)(["city"]))},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[this._m(0),this._v(" "),this._m(1),this._v(" "),e("router-link",{attrs:{to:"/city"}},[e("div",{staticClass:"header-right"},[this._v("\n      "+this._s(this.city)+"\n      "),e("span",{staticClass:"iconfont iconfont-trangle"})])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-left"},[e("span",{staticClass:"iconfont iconfont-return"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-input"},[e("span",{staticClass:"iconfont iconfont-search"}),this._v(" "),e("span",{staticClass:"title"},[this._v("输入城市/景点/游玩主题")])])}]};var h=i("VU/8")(d,u,!1,function(t){i("NIkx")},"data-v-24e25747",null).exports,m={name:"HomeSwiper",data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"},loop:!0}}},props:{swiperList:Array},computed:{showSwiper:function(){return this.swiperList.length}}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper"},[this.showSwiper?e("swiper",{attrs:{options:this.swiperOption}},[this._l(this.swiperList,function(t){return e("swiper-slide",{key:t.id},[e("img",{staticClass:"swiper-img",attrs:{src:t.imgUrl}})])}),this._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):this._e()],1)},staticRenderFns:[]};var f=i("VU/8")(m,v,!1,function(t){i("YPpW")},"data-v-c75f8ed4",null).exports,p={name:"HomeIcons",props:{iconList:Array},data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"}}}},computed:{pages:function(){var t=[];return this.iconList.forEach(function(e,i){var s=Math.floor(i/8);t[s]||(t[s]=[]),t[s].push(e)}),t}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icons"},[i("swiper",{attrs:{options:t.swiperOption}},[t._l(t.pages,function(e,s){return i("swiper-slide",{key:s},t._l(e,function(e){return i("div",{key:e.id,staticClass:"icon"},[i("div",{staticClass:"icon-img"},[i("img",{staticClass:"icon-img-content",attrs:{src:e.imgUrl}})]),t._v(" "),i("p",{staticClass:"icon-desc",domProps:{textContent:t._s(e.desc)}})])}))}),t._v(" "),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},staticRenderFns:[]};var y=i("VU/8")(p,_,!1,function(t){i("kwAw")},"data-v-faf21022",null).exports,C={name:"HomeRecommend",props:{recList:Array}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),i("ul",{staticClass:"recommend-list"},t._l(t.recList,function(e){return i("router-link",{key:e.id,attrs:{tag:"li",to:"/detail/"+e.id}},[i("a",{staticClass:"item",attrs:{href:"#"}},[i("img",{staticClass:"item-img",attrs:{src:e.url}}),t._v(" "),i("div",{staticClass:"item-info"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"item-price"},[i("span",{staticClass:"item-price-title"},[t._v("\n            ￥"),i("em",[t._v(t._s(e.price))]),t._v("起\n            ")]),t._v(" "),i("span",{staticClass:"item-site"},[t._v(t._s(e.site))])])])])])}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"recommend-title"},[e("img",{staticClass:"recommend-title-img",attrs:{src:"http://img1.qunarzz.com/piao/fusion/1711/89/ebc329f16c55bb02.png"}}),this._v(" "),e("span",{staticClass:"recommend-title-desc"},[this._v("猜你喜欢")])])}]};var w=i("VU/8")(C,g,!1,function(t){i("Q1eu")},"data-v-970f6bc0",null).exports,k={name:"HomeWeekend",props:{weekendList:Array}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weekend"},[i("div",{staticClass:"weekend-title"},[t._v("周末去哪")]),t._v(" "),i("ul",{staticClass:"weekend-list"},t._l(t.weekendList,function(e){return i("li",{key:e.id},[i("a",{attrs:{href:"#"}},[i("div",{staticClass:"img-wrapper"},[i("img",{staticClass:"item-img",attrs:{src:e.url}})]),t._v(" "),i("div",{staticClass:"item-info"},[i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"item-desc"},[t._v(t._s(e.desc))])])])])}))])},staticRenderFns:[]};var b=i("VU/8")(k,L,!1,function(t){i("MbZW")},"data-v-1f9ecd5a",null).exports,x=i("aozt"),I=i.n(x),A={name:"Home",data:function(){return{lastCity:"",swiperList:[],iconList:[],recList:[],weekendList:[]}},components:{HomeHeader:h,HomeSwiper:f,HomeIcons:y,HomeRecommend:w,HomeWeekend:b},mounted:function(){this.lastCity=this.city,this.getHomeInfo()},activated:function(){this.city!==this.lastCity&&(this.lastCity=this.city,this.getHomeInfo())},computed:o()({},Object(l.c)(["city"])),methods:{getHomeInfo:function(){I.a.get("/api/index.json?"+this.city).then(this.getHomeInfoSucc)},getHomeInfoSucc:function(t){if((t=t.data).ret&&t.data){var e=t.data;this.swiperList=e.swiperList,this.iconList=e.iconList,this.recList=e.recommendList,this.weekendList=e.weekendList}}}},E={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("home-header"),t._v(" "),i("home-swiper",{attrs:{swiperList:t.swiperList}}),t._v(" "),i("home-icons",{attrs:{iconList:t.iconList}}),t._v(" "),i("div",{staticClass:"interval"}),t._v(" "),i("home-recommend",{attrs:{recList:t.recList}}),t._v(" "),i("home-weekend",{attrs:{weekendList:t.weekendList}})],1)},staticRenderFns:[]};var S=i("VU/8")(A,E,!1,function(t){i("enAA")},"data-v-59e7cbcf",null).exports,H={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"iconfont iconfont-return",attrs:{href:"#"}})]),this._v(" "),e("h1",{staticClass:"header-title"},[this._v("城市选择")])],1)},staticRenderFns:[]};var $=i("VU/8")({name:"CityHeader"},H,!1,function(t){i("R12C")},"data-v-94921d1e",null).exports,F=null,N={name:"citySearch",data:function(){return{keyWord:"",list:[],timer:null,cityFix:!1,swiperOption:{preventClicks:!1,preventLinksPropagation:!1,slidesPerView:10,spaceBetween:1,direction:"vertical",scrollbar:{el:".swiper-scrollbar",direction:"vertical"},freeMode:!0,on:{click:function(){var t=this.clickedSlide.innerText;F.handleCityClick(t)}}}}},beforeCreate:function(){F=this},mounted:function(){this.swiper.params.slidesPerView=Math.floor((window.screen.height-80)/34)},props:{cityList:[Object,Array]},methods:o()({handleCityClick:function(t){this.changeLocation(t),this.$router.push("/")}},Object(l.b)(["changeLocation"])),computed:{swiper:function(){return this.$refs.swiper.swiper}},watch:{keyWord:function(){var t=this;this.cityFix=!1,this.timer&&clearTimeout(this.timer),this.keyWord?this.timer=setTimeout(function(){var e=[];for(var i in t.cityList)t.cityList[i].forEach(function(i){1===t.keyWord.length?i.spell.charAt(0)!==t.keyWord&&i.name.charAt(0)!==t.keyWord||e.push(i):(i.spell.indexOf(t.keyWord)>-1||i.name.indexOf(t.keyWord)>-1)&&e.push(i)});t.list=e,0===t.list.length?t.cityFix=!0:t.cityFix=!1},100):this.list=[]}}},R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"search-input",attrs:{type:"text",placeholder:"输入城市名或拼音"},domProps:{value:t.keyWord},on:{input:function(e){e.target.composing||(t.keyWord=e.target.value)}}})]),t._v(" "),i("swiper",{directives:[{name:"show",rawName:"v-show",value:t.keyWord,expression:"keyWord"}],ref:"swiper",staticClass:"search-content",attrs:{options:t.swiperOption}},[t._l(t.list,function(e){return i("swiper-slide",{key:e.id,staticClass:"search-item"},[t._v("\n      "+t._s(e.name)+"\n    ")])}),t._v(" "),i("div",{staticClass:"swiper-scrollbar",attrs:{slot:"scrollbar"},slot:"scrollbar"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.cityFix,expression:"cityFix"}],staticClass:"search-item"},[t._v("没有找到匹配城市")])],2)],1)},staticRenderFns:[]};var W=i("VU/8")(N,R,!1,function(t){i("Na73")},"data-v-54c8455e",null).exports,O={name:"list",props:{cityList:[Array,Object],hotCities:Array},methods:o()({handleCityClick:function(t){this.changeLocation(t),this.$router.push("/")}},Object(l.b)(["changeLocation"])),computed:o()({},Object(l.c)(["city"]))},U={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"area"},[i("h2",{staticClass:"title interval"},[t._v("热门城市")]),t._v(" "),i("ul",{staticClass:"list hot-cities"},t._l(t.hotCities,function(e){return i("li",{key:e.id,on:{click:function(i){t.handleCityClick(e.name)}}},[t._v(t._s(e.name))])}))]),t._v(" "),i("div",{staticClass:"area"},[i("h2",{staticClass:"title interval"},[t._v("字母排序")]),t._v(" "),i("ul",{staticClass:"list letter-list"},t._l(t.cityList,function(e,s){return i("li",{key:e.id},[i("a",{attrs:{href:"#letter-"+s}},[t._v(t._s(s))])])}))]),t._v(" "),t._l(t.cityList,function(e,s){return i("div",{key:e.id,staticClass:"area"},[i("a",{attrs:{id:"letter-"+s}}),t._v(" "),i("h2",{staticClass:"title interval"},[t._v(t._s(s))]),t._v(" "),i("ul",{staticClass:" list detail-list"},t._l(e,function(e){return i("li",{key:e.id,on:{click:function(i){t.handleCityClick(e.name)}}},[t._v(t._s(e.name))])}))])})],2)},staticRenderFns:[]};var V={name:"City",data:function(){return{hotCities:[],cityList:[]}},components:{cityHeader:$,citySearch:W,cityList:i("VU/8")(O,U,!1,function(t){i("RaYO")},"data-v-eb1d301c",null).exports},methods:{getCityList:function(){I.a.get("/api/city.json").then(this.getCityListSucc)},getCityListSucc:function(t){if((t=t.data).ret&&t.data){var e=t.data;this.hotCities=e.hotCities,this.cityList=e.cities}}},mounted:function(){this.getCityList()}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"city"},[e("city-header"),this._v(" "),e("city-search",{attrs:{cityList:this.cityList}}),this._v(" "),e("city-list",{attrs:{hotCities:this.hotCities,cityList:this.cityList}})],1)},staticRenderFns:[]};var j=i("VU/8")(V,M,!1,function(t){i("TutJ")},null,null).exports,G={name:"CommonGallery",props:{galleryImgs:Array},methods:{handleGalleryClose:function(){this.$emit("close")}}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"img-header"},[e("span",{staticClass:"back-icon iconfont-return iconfont",on:{click:this.handleGalleryClose}}),this._v(" "),e("h3",{staticClass:"title"},[this._v("景区图片")])]),this._v(" "),e("div",{staticClass:"img-list"},this._l(this.galleryImgs,function(t){return e("img",{key:t.id,attrs:{src:t.url}})}))])},staticRenderFns:[]};var T=i("VU/8")(G,P,!1,function(t){i("yo9X")},"data-v-cc26fdce",null).exports,D={render:function(){var t=this.$createElement;return(this._self._c||t)("transition",[this._t("default")],2)},staticRenderFns:[]};var z=i("VU/8")({name:"fadeAnimation"},D,!1,function(t){i("p5mC")},"data-v-7376305c",null).exports,Y={name:"banner",props:{sightName:String,bannerImg:String,galleryImgs:Array},data:function(){return{showGallery:!1}},methods:{handleBannerClick:function(){this.showGallery=!0},handleGalleryClose:function(){this.showGallery=!1}},components:{commonGallery:T,commonFade:z}},B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"banner",on:{click:t.handleBannerClick}},[i("img",{staticClass:"banner-img",attrs:{src:t.bannerImg}}),t._v(" "),i("div",{staticClass:"banner-info"},[i("div",{staticClass:"banner-title"},[t._v(t._s(t.sightName))]),t._v(" "),t._m(0)])]),t._v(" "),i("common-fade",[i("common-gallery",{directives:[{name:"show",rawName:"v-show",value:t.showGallery,expression:"showGallery"}],attrs:{galleryImgs:t.galleryImgs},on:{close:t.handleGalleryClose}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"banner-video"},[this._v("视频"),e("span",{staticClass:"iconfont iconfont-forward"})])}]};var Z=i("VU/8")(Y,B,!1,function(t){i("ztMK")},"data-v-e52b7d2c",null).exports,J={name:"detailHeader",props:{sightName:String},data:function(){return{showAbs:!0,opacityStyle:{opacity:0}}},methods:{handleScroll:function(){var t=document.documentElement.scrollTop;if(t>10){var e=t/240;e=e>1?1:e,this.opacityStyle={opacity:e},this.showAbs=!1}else this.showAbs=!0}},activated:function(){window.addEventListener("scroll",this.handleScroll)},deactivated:function(){window.removeEventListener("scroll",this.handleScroll)}},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-link",{directives:[{name:"show",rawName:"v-show",value:t.showAbs,expression:"showAbs"}],staticClass:"abs",attrs:{to:"/"}},[i("span",{staticClass:"back-icon iconfont-return iconfont"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAbs,expression:"!showAbs"}],staticClass:"header-fixed",style:t.opacityStyle},[i("router-link",{attrs:{to:"/"}},[i("span",{staticClass:"back-icon iconfont-return iconfont"})]),t._v(" "),i("h2",{staticClass:"header-title"},[t._v(t._s(t.sightName))])],1)],1)},staticRenderFns:[]};var K=i("VU/8")(J,q,!1,function(t){i("P/b0")},"data-v-feff1616",null).exports,Q={name:"detailList",props:{categoryList:Array}},X={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},t._l(t.categoryList,function(e,s){return i("div",{key:s,staticClass:"ticket-area"},[i("h3",{staticClass:"title"},[i("span",{staticClass:"iconfont iconfont-ticket"}),t._v("\n      "+t._s(e.name)+"\n    ")]),t._v(" "),e.children?i("div",[i("detail-list",{staticClass:"list-children",attrs:{categoryList:e.children}})],1):t._e()])}))},staticRenderFns:[]};var tt={name:"Detail",data:function(){return{sightName:"",bannerImg:"",galleryImgs:[],categoryList:[]}},components:{detailBanner:Z,detailHeader:K,detailList:i("VU/8")(Q,X,!1,function(t){i("nafC")},"data-v-029ba975",null).exports},activated:function(){this.gerDetailInfo()},methods:{gerDetailInfo:function(){I.a.get("/api/detail.json").then(this.getDetailInfoSucc)},getDetailInfoSucc:function(t){if((t=t.data).ret&&t.data){var e=t.data;this.sightName=e.sightName,this.bannerImg=e.bannerImg,this.galleryImgs=e.galleryImgs,this.categoryList=e.categoryList}}}},et={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail"},[i("detail-banner",{attrs:{sightName:t.sightName,bannerImg:t.bannerImg,galleryImgs:t.galleryImgs}}),t._v(" "),i("detail-header",{attrs:{sightName:t.sightName}}),t._v(" "),i("detail-list",{attrs:{categoryList:t.categoryList}}),t._v(" "),i("div",{staticClass:"test"})],1)},staticRenderFns:[]};var it=i("VU/8")(tt,et,!1,function(t){i("ZAW+")},"data-v-5f1fb775",null).exports;s.a.use(r.a);var st=new r.a({routes:[{path:"/",name:"Home",component:S},{path:"/city",name:"City",component:j},{path:"/detail/:id",name:"Detail",component:it}],scrollBehavior:function(t,e,i){return{x:0,y:0}}}),nt="北京";try{localStorage.city&&(nt=localStorage.city)}catch(t){}var at={city:nt},rt={changeLocation:function(t,e){t.city=e;try{localStorage.city=e}catch(t){}}};s.a.use(l.a);var ct=new l.a.Store({state:at,mutations:rt}),ot=(i("uMhA"),i("iDdd")),lt=i.n(ot),dt=(i("TzC8"),i("DMPO")),ut=i.n(dt);i("IIvi"),i("t2xr");s.a.use(ut.a),lt.a.attach(document.body),s.a.config.productionTip=!1,new s.a({el:"#app",router:st,store:ct,components:{App:a},template:"<App/>"})},NIkx:function(t,e){},Na73:function(t,e){},"P/b0":function(t,e){},Q1eu:function(t,e){},R12C:function(t,e){},RaYO:function(t,e){},TMjY:function(t,e){},TutJ:function(t,e){},TzC8:function(t,e){},YPpW:function(t,e){},"ZAW+":function(t,e){},enAA:function(t,e){},kwAw:function(t,e){},nafC:function(t,e){},p5mC:function(t,e){},t2xr:function(t,e){},uMhA:function(t,e){},yo9X:function(t,e){},ztMK:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7d10da2aeab5ec81c1f1.js.map